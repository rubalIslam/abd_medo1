{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\reactproj\\\\easy_shop\\\\mern-stack-ecommerce\\\\easy-shop\\\\Screens\\\\Admin\\\\Products.js\";\n\nimport React, { useState, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Header, Item, Input } from \"native-base\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport ListItem from \"./ListItem\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar ListHeader = function ListHeader() {\n  return React.createElement(View, {\n    elevation: 1,\n    style: styles.listHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.headerItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.headerItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: '600'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, \"Brand\")), React.createElement(View, {\n    style: styles.headerItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: '600'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, \"Name\")), React.createElement(View, {\n    style: styles.headerItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: '600'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, \"Category\")), React.createElement(View, {\n    style: styles.headerItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: '600'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"Price\")));\n};\n\nvar Products = function Products(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      productList = _useState2[0],\n      setProductList = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      productFilter = _useState4[0],\n      setProductFilter = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      token = _useState8[0],\n      setToken = _useState8[1];\n\n  useFocusEffect(useCallback(function () {\n    AsyncStorage.getItem(\"jwt\").then(function (res) {\n      setToken(res);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    axios.get(baseURL + \"products\").then(function (res) {\n      setProductList(res.data);\n      setProductFilter(res.data);\n      setLoading(false);\n    });\n    return function () {\n      setProductList();\n      setProductFilter();\n      setLoading(true);\n    };\n  }, []));\n\n  var searchProduct = function searchProduct(text) {\n    if (text == \"\") {\n      setProductFilter(productList);\n    }\n\n    setProductFilter(productList.filter(function (i) {\n      return i.name.toLowerCase().includes(text.toLowerCase());\n    }));\n  };\n\n  var deleteProduct = function deleteProduct(id) {\n    axios.delete(baseURL + \"products/\" + id, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(function (res) {\n      var products = productFilter.filter(function (item) {\n        return item.id !== id;\n      });\n      setProductFilter(products);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, React.createElement(EasyButton, {\n    secondary: true,\n    medium: true,\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Orders\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, React.createElement(Icon, {\n    name: \"shopping-bag\",\n    size: 18,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Orders\")), React.createElement(EasyButton, {\n    secondary: true,\n    medium: true,\n    onPress: function onPress() {\n      return props.navigation.navigate(\"ProductForm\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, React.createElement(Icon, {\n    name: \"plus\",\n    size: 18,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"Products\")), React.createElement(EasyButton, {\n    secondary: true,\n    medium: true,\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Categories\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, React.createElement(Icon, {\n    name: \"plus\",\n    size: 18,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"Categories\"))), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, React.createElement(Header, {\n    searchBar: true,\n    rounded: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, React.createElement(Item, {\n    style: {\n      padding: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, React.createElement(Icon, {\n    name: \"search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Search\",\n    onChangeText: function onChangeText(text) {\n      return searchProduct(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  })))), loading ? React.createElement(View, {\n    style: styles.spinner,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"red\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  })) : React.createElement(FlatList, {\n    data: productFilter,\n    ListHeaderComponent: ListHeader,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n      return React.createElement(ListItem, _extends({}, item, {\n        navigation: props.navigation,\n        index: index,\n        delete: deleteProduct,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }));\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  listHeader: {\n    flexDirection: 'row',\n    padding: 5,\n    backgroundColor: 'gainsboro'\n  },\n  headerItem: {\n    margin: 3,\n    width: width / 6\n  },\n  spinner: {\n    height: height / 2,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  container: {\n    marginBottom: 160,\n    backgroundColor: 'white'\n  },\n  buttonContainer: {\n    margin: 20,\n    alignSelf: 'center',\n    flexDirection: 'row'\n  },\n  buttonText: {\n    marginLeft: 4,\n    color: 'white'\n  }\n});\nexport default Products;","map":{"version":3,"sources":["E:/reactproj/easy_shop/mern-stack-ecommerce/easy-shop/Screens/Admin/Products.js"],"names":["React","useState","useCallback","Header","Item","Input","Icon","useFocusEffect","ListItem","axios","baseURL","AsyncStorage","EasyButton","Dimensions","get","height","width","ListHeader","styles","listHeader","headerItem","fontWeight","Products","props","productList","setProductList","productFilter","setProductFilter","loading","setLoading","token","setToken","getItem","then","res","catch","error","console","log","data","searchProduct","text","filter","i","name","toLowerCase","includes","deleteProduct","id","delete","headers","Authorization","products","item","container","buttonContainer","navigation","navigate","buttonText","padding","spinner","index","StyleSheet","create","flexDirection","backgroundColor","margin","alignItems","justifyContent","marginBottom","alignSelf","marginLeft","color"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  FlatList,\r\n  ActivityIndicator,\r\n  StyleSheet,\r\n  Dimensions,\r\n  Button\r\n} from \"react-native\";\r\nimport { Header, Item, Input } from \"native-base\"\r\nimport Icon from \"react-native-vector-icons/FontAwesome\"\r\nimport { useFocusEffect } from \"@react-navigation/native\"\r\nimport ListItem from \"./ListItem\"\r\n\r\nimport axios from \"axios\"\r\nimport baseURL from \"../../assets/common/baseUrl\"\r\nimport AsyncStorage from \"@react-native-community/async-storage\"\r\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\r\n\r\nvar { height, width } = Dimensions.get(\"window\")\r\n\r\nconst ListHeader = () => {\r\n    return(\r\n        <View\r\n            elevation={1}\r\n            style={styles.listHeader}\r\n        >\r\n            <View style={styles.headerItem}></View>\r\n            <View style={styles.headerItem}>\r\n                <Text style={{ fontWeight: '600'}}>Brand</Text>\r\n            </View>\r\n            <View style={styles.headerItem}>\r\n                <Text style={{ fontWeight: '600'}}>Name</Text>\r\n            </View>\r\n            <View style={styles.headerItem}>\r\n                <Text style={{ fontWeight: '600'}}>Category</Text>\r\n            </View>\r\n            <View style={styles.headerItem}>\r\n                <Text style={{ fontWeight: '600'}}>Price</Text>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst Products = (props) => {\r\n\r\n    const [productList, setProductList] = useState();\r\n    const [productFilter, setProductFilter] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const [token, setToken] = useState();\r\n\r\n    useFocusEffect(\r\n        useCallback(\r\n            () => {\r\n                // Get Token\r\n                AsyncStorage.getItem(\"jwt\")\r\n                    .then((res) => {\r\n                        setToken(res)\r\n                    })\r\n                    .catch((error) => console.log(error))\r\n\r\n                axios\r\n                    .get(`${baseURL}products`)\r\n                    .then((res) => {\r\n                        setProductList(res.data);\r\n                        setProductFilter(res.data);\r\n                        setLoading(false);\r\n                    })\r\n\r\n                return () => {\r\n                    setProductList();\r\n                    setProductFilter();\r\n                    setLoading(true);\r\n                }\r\n            },\r\n            [],\r\n        )\r\n    )\r\n\r\n    const searchProduct = (text) => {\r\n        if (text == \"\") {\r\n            setProductFilter(productList)\r\n        }\r\n        setProductFilter(\r\n            productList.filter((i) => \r\n                i.name.toLowerCase().includes(text.toLowerCase())\r\n            )\r\n        )\r\n    }\r\n\r\n    const deleteProduct = (id) => {\r\n        axios\r\n            .delete(`${baseURL}products/${id}`, {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            })\r\n            .then((res) => {\r\n                const products = productFilter.filter((item) => item.id !== id)\r\n                setProductFilter(products)\r\n            })\r\n            .catch((error) => console.log(error));\r\n    }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n        <View style={styles.buttonContainer}>\r\n            <EasyButton\r\n                secondary\r\n                medium\r\n                onPress={() => props.navigation.navigate(\"Orders\")}\r\n            >\r\n                <Icon name=\"shopping-bag\" size={18} color=\"white\" />\r\n                <Text style={styles.buttonText}>Orders</Text>\r\n            </EasyButton>\r\n            <EasyButton\r\n                secondary\r\n                medium\r\n                onPress={() => props.navigation.navigate(\"ProductForm\")}\r\n            >\r\n                <Icon name=\"plus\" size={18} color=\"white\" />\r\n                <Text style={styles.buttonText}>Products</Text>\r\n            </EasyButton>\r\n            <EasyButton\r\n                secondary\r\n                medium\r\n                onPress={() => props.navigation.navigate(\"Categories\")}\r\n            >\r\n                <Icon name=\"plus\" size={18} color=\"white\" />\r\n                <Text style={styles.buttonText}>Categories</Text>\r\n            </EasyButton>\r\n        </View>\r\n      <View>\r\n          <Header searchBar rounded>\r\n              <Item style={{ padding: 5 }}>\r\n                  <Icon name=\"search\" />\r\n                  <Input \r\n                    placeholder=\"Search\"\r\n                    onChangeText={(text) => searchProduct(text)}\r\n                  />\r\n              </Item>\r\n          </Header>\r\n      </View>\r\n\r\n      {loading ? (\r\n          <View style={styles.spinner}> \r\n              <ActivityIndicator size=\"large\" color=\"red\" />\r\n          </View>\r\n      ) : (\r\n          <FlatList \r\n            data={productFilter}\r\n            ListHeaderComponent={ListHeader}\r\n            renderItem={({ item, index }) => (\r\n                <ListItem \r\n                    {...item}\r\n                    navigation={props.navigation}\r\n                    index={index}\r\n                    delete={deleteProduct}\r\n                />\r\n            )}\r\n            keyExtractor={(item) => item.id}\r\n          />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    listHeader: {\r\n        flexDirection: 'row',\r\n        padding: 5,\r\n        backgroundColor: 'gainsboro'\r\n    },\r\n    headerItem: {\r\n        margin: 3,\r\n        width: width / 6\r\n    },\r\n    spinner: {\r\n        height: height / 2,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    container: {\r\n        marginBottom: 160,\r\n        backgroundColor: 'white'\r\n    },\r\n    buttonContainer: {\r\n        margin: 20,\r\n        alignSelf: 'center',\r\n        flexDirection: 'row'\r\n    },\r\n    buttonText: {\r\n        marginLeft: 4,\r\n        color: 'white'\r\n    }\r\n})\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}