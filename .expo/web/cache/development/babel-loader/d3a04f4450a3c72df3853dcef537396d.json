{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\reactproj\\\\abc_medo1\\\\frontend\\\\Context\\\\store\\\\Auth.js\";\n\nimport React, { useEffect, useReducer, userEffect, useState } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useDispatch, useSelector } from 'react-redux';\nimport authReducer from \"../reducers/Auth.reducer\";\nimport { setCurrentUser } from \"../../src/actions/userActions\";\nimport AuthGlobal from \"./AuthGlobal\";\n\nvar Auth = function Auth(props) {\n  var _useReducer = useReducer(authReducer, {\n    isAuthenticated: null,\n    user: {}\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      stateUser = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showChild = _useState2[0],\n      setShowChild = _useState2[1];\n\n  useEffect(function () {\n    setShowChild(true);\n    var userInfo = AsyncStorage.getItem(\"userInfo\");\n    console.log(\"authd\", userInfo);\n    dispatch(setCurrentUser(userInfo, userInfo.name));\n    return function () {\n      return setShowChild(false);\n    };\n  }, []);\n\n  if (!showChild) {\n    return null;\n  } else {\n    return React.createElement(AuthGlobal.Provider, {\n      value: {\n        stateUser: stateUser,\n        dispatch: dispatch\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, props.children);\n  }\n};\n\nexport default Auth;","map":{"version":3,"sources":["E:/reactproj/abc_medo1/frontend/Context/store/Auth.js"],"names":["React","useEffect","useReducer","userEffect","useState","jwt_decode","AsyncStorage","useDispatch","useSelector","authReducer","setCurrentUser","AuthGlobal","Auth","props","isAuthenticated","user","stateUser","dispatch","showChild","setShowChild","userInfo","getItem","console","log","name","children"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,UAAvC,EAAmDC,QAAnD,QAAmE,OAAnE;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,WAAP;AAEA,SAASC,cAAT;AACA,OAAOC,UAAP;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,KAAK,EAAI;AAAA,oBACYX,UAAU,CAACO,WAAD,EAAc;AAClDK,IAAAA,eAAe,EAAE,IADiC;AAElDC,IAAAA,IAAI,EAAE;AAF4C,GAAd,CADtB;AAAA;AAAA,MACXC,SADW;AAAA,MACAC,QADA;;AAAA,kBAKgBb,QAAQ,CAAC,KAAD,CALxB;AAAA;AAAA,MAKXc,SALW;AAAA,MAKAC,YALA;;AASlBlB,EAAAA,SAAS,CAAC,YAAM;AACZkB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAOA,QAAMC,QAAQ,GAAGd,YAAY,CAACe,OAAb,CAAqB,UAArB,CAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBH,QAApB;AACAH,IAAAA,QAAQ,CAACP,cAAc,CAACU,QAAD,EAAUA,QAAQ,CAACI,IAAnB,CAAf,CAAR;AACA,WAAO;AAAA,aAAML,YAAY,CAAC,KAAD,CAAlB;AAAA,KAAP;AACH,GAZQ,EAYN,EAZM,CAAT;;AAeA,MAAI,CAACD,SAAL,EAAgB;AACZ,WAAO,IAAP;AACH,GAFD,MAEO;AACH,WACI,oBAAC,UAAD,CAAY,QAAZ;AACI,MAAA,KAAK,EAAE;AACHF,QAAAA,SAAS,EAATA,SADG;AAEHC,QAAAA,QAAQ,EAARA;AAFG,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMKJ,KAAK,CAACY,QANX,CADJ;AAUH;AACJ,CAtCD;;AAwCA,eAAeb,IAAf","sourcesContent":["import React, { useEffect, useReducer, userEffect, useState } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\n//import AsyncStorage from \"@react-native-community/async-storage\"\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport authReducer from \"../reducers/Auth.reducer\";\r\n//import { setCurrentUser } from \"../actions/Auth.actions\";\r\nimport { setCurrentUser } from \"../../src/actions/userActions\";\r\nimport AuthGlobal from './AuthGlobal'\r\n\r\nconst Auth = props => {\r\n    const [stateUser, dispatch] = useReducer(authReducer, {\r\n        isAuthenticated: null,\r\n        user: {}\r\n    });\r\n    const [showChild, setShowChild] = useState(false);\r\n\r\n    //const userLogin = useSelector((state) => state.userLogin)\r\n\r\n    useEffect(() => {\r\n        setShowChild(true);\r\n        /*if (AsyncStorage.jwt) {\r\n            const decoded = AsyncStorage.jwt ? AsyncStorage.jwt : \"\";\r\n            if (setShowChild) {\r\n                dispatch(setCurrentUserUser(jwt_decode(decoded)))\r\n            }\r\n        }*/\r\n        const userInfo = AsyncStorage.getItem(\"userInfo\")\r\n        console.log(\"authd\",userInfo)\r\n        dispatch(setCurrentUser(userInfo,userInfo.name))\r\n        return () => setShowChild(false);\r\n    }, [])\r\n\r\n\r\n    if (!showChild) {\r\n        return null;\r\n    } else {\r\n        return (\r\n            <AuthGlobal.Provider\r\n                value={{\r\n                    stateUser,\r\n                    dispatch\r\n                }}\r\n            >\r\n                {props.children}\r\n            </AuthGlobal.Provider>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}